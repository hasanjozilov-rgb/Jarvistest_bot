services:
  - type: worker  # ⬅️ O'ZGARTIRILDI: web -> worker
    name: jarvis-bot
    env: python
    plan: free
    
    buildCommand: "pip install -r requirements.txt"
    startCommand: "python jarvistest/jarvistest/app.py"
    autoDeploy: true
    
    # Worker uchun health check kerak emas, lekin sozlasangiz bo'ladi
    # healthCheckPath: /health  # ⬅️ COMMENT qiling yoki o'chiring
    
    envVars:
      - key: BOT_TOKEN
        sync: false
      - key: ADMIN_IDS
        sync: false
      - key: BOT_USERNAME
        sync: false
      - key: DB_PATH
        value: /data/data.db
        sync: false
    
    disk:
      name: jarvis-data
      mountPath: /data
      sizeGB: 1
